# BOJ 18428ë²ˆ ê°ì‹œ í”¼í•˜ê¸°

[BOJ 18428ë²ˆ ê°ì‹œ í”¼í•˜ê¸°](https://www.acmicpc.net/problem/18428)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

1. n x n í¬ê¸°ì˜ ë³µë„ê°€ ìˆë‹¤.
2. ì„ ìƒë‹˜ì€ ì‚¬ë°©ìœ¼ë¡œ ê°ì‹œí•  ìˆ˜ ìˆë‹¤.
3. í•™ìƒë“¤ì€ ì¥ì• ë¬¼ì„ 3ê°œ ë‘ì–´ ê°ì‹œë¥¼ í”¼í•œë‹¤.

- n â‰¤ 6
- ì„ ìƒë‹˜ì˜ ìˆ˜ â‰¤ 5
- ì „ì²´ í•™ìƒì˜ ìˆ˜ â‰¤ 30

### â­ ì•Œê³ ë¦¬ì¦˜

1. ë°±íŠ¸ë˜í‚¹
   - ê¸°ë‘¥ì„ ë†“ì„ ìˆ˜ ìˆëŠ” ì„¸ ìë¦¬ë¥¼ ê³ ë¥¸ë‹¤.
   - ì„ íƒí•œ ìë¦¬ì— ê¸°ë‘¥ì„ ë†“ì•„ ì„ ìƒë‹˜ì˜ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤ë©´ ë” íŒŒì•…í•˜ì§€ ì•Šê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•œë‹¤.

### ğŸ“– ìŠ¤í† ë¦¬ ë¼ì¸

1. ê¸°ë‘¥ì„ ë‘˜ 3ê³³ì„ ì„ ì •í•œë‹¤.
2. í•™ìƒë“¤ì´ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ íŒŒì•…í•œë‹¤.

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {

    static int n;
    static int[][] map; // 0ì€ ë¹ˆì¹¸, 1ì€ ì„ ìƒë‹˜, 2ëŠ” í•™ìƒ, -1ì€ ì¥ì• ë¬¼
    static List<Pos> teacher = new ArrayList<>();

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
        StringBuilder sb = new StringBuilder();
        StringTokenizer st;

        n = Integer.parseInt(br.readLine());
        map = new int[n][n];
        for (int i = 0; i < n; ++i) {
            st = new StringTokenizer(br.readLine(), " ");
            for (int j = 0; j < n; ++j) {
                char who = st.nextToken().charAt(0);
                if (who == 'X') map[i][j] = 0;
                else if (who == 'T') {
                    map[i][j] = 1;
                    teacher.add(new Pos(i, j));
                }
                else if (who == 'S') map[i][j] = 2;
            }
        }

        sb.append(solve(0, 0, new int[3]) ? "YES" : "NO").append("\n");

        bw.write(sb.toString());
        bw.flush();
        bw.close();
        br.close();
    }

    static class Pos {
        int r , c;

        public Pos(int r, int c) {
            this.r = r;
            this.c = c;
        }
    }

    // ìë¦¬ 3ê°œë¥¼ ê³ ë¥¸ë‹¤.
    // ì„ íƒí•œ í–‰: pos / n, ì„ íƒí•œ ì—´: pos % n
    static boolean solve(int pos, int cnt, int[] selected) {
        if (cnt == 3) {
            if (!canHide(selected)) return true;
            return false;
        }

        for (int i = pos; i < n * n; ++i) {
            int cr = i / n;
            int cc = i % n;

            if (map[cr][cc] != 0) continue; // ë¹ˆ ìë¦¬ê°€ ì•„ë‹ˆë¼ë©´ ë„˜ì–´ê°„ë‹¤.
            selected[cnt] = i;
            if (solve(i + 1, cnt + 1, selected)) return true;
        }
        return false;
    }

    // ëª¨ë“  ì„ ìƒë‹˜ì´ í•™ìƒë“¤ì„ ê°ì‹œí•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
    // true: ì„ ìƒë‹˜ì´ í•™ìƒì„ ê°ì‹œí•  ìˆ˜ ìˆë‹¤.
    // false: ì„ ìƒë‹˜ì´ í•™ìƒì„ ê°ì‹œí•  ìˆ˜ ì—†ë‹¤.
    static boolean canHide(int[] pos) {
        setValue(pos, -1); // ì„ íƒí•œ ìœ„ì¹˜ì— ì¥ì• ë¬¼ ë‘ê¸°

        boolean check = false;
        for (int i = 0; i < teacher.size(); ++i) {
            if (meetStudent(teacher.get(i).r, teacher.get(i).c)) {
                check = true;
                break;
            }
        }

        setValue(pos, 0); // í™•ì¸ í›„ ì¥ì• ë¬¼ ì¹˜ìš°ê¸°
        return check;
    }

    static void setValue(int[] pos, int value) {
        for (int i = 0; i < 3; ++i) {
            map[pos[i] / n][pos[i] % n] = value;
        }
    }

    // r, c ìœ„ì¹˜ì˜ ì„ ìƒë‹˜ì´ í•™ìƒì„ ê°ì‹œí•  ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ” ì§€ í™•ì¸
    // true: ì„ ìƒë‹˜ì´ í•™ìƒì„ ê°ì‹œí•  ìˆ˜ ìˆë‹¤.
    // false: ì„ ìƒë‹˜ì´ í•™ìƒì„ ê°ì‹œí•  ìˆ˜ ì—†ë‹¤.
    static boolean meetStudent(int r, int c) {
        // ìœ„ìª½ í™•ì¸
        for (int i = r - 1; i >= 0; --i) {
            if (map[i][c] == -1) break;
            else if (map[i][c] == 2) return true;
        }

        // ì•„ë˜ ìª½ í™•ì¸
        for (int i = r + 1; i < n; ++i) {
            if (map[i][c] == -1) break;
            else if (map[i][c] == 2) return true;
        }

        // ì™¼ìª½ í™•ì¸
        for (int i = c - 1; i >= 0; --i) {
            if (map[r][i] == -1) break;
            else if (map[r][i] == 2) return true;
        }

        // ì•„ë˜ìª½ í™•ì¸
        for (int i = c + 1; i < n; ++i) {
            if (map[r][i] == -1) break;
            else if (map[r][i] == 2) return true;
        }

        return false;
    }

}
```
