# BOJ 1941ë²ˆ ì†Œë¬¸ë‚œ ì¹ ê³µì£¼

[BOJ 1941ë²ˆ ì†Œë¬¸ë‚œ ì¹ ê³µì£¼](https://www.acmicpc.net/problem/1941)

### ğŸ¤” ë¬¸ì œ ì´í•´í•˜ê¸°

- 5x5 í–‰ë ¬ì— ë‘ ì„¸ë ¥ì´ ì•‰ì•„ìˆë‹¤.
- ì¸ì ‘í•œ 7ê°œë¥¼ ì„ ì •í•˜ê³  ì„ ì •í•œ ìë¦¬ì— SíŒŒê°€ 4ëª… ì´ìƒì¸ì§€ í™•ì¸í•œë‹¤.

### â­ ì•Œê³ ë¦¬ì¦˜

- ì¡°í•©
  7ê³µì£¼ë¥¼ ì„ ì •í•˜ëŠ” ë°ì— ì‚¬ìš©
- bfs
  7ê³µì£¼ê°€ ì¸ì ‘í•˜ê²Œ ì•‰ì•„ìˆëŠ” ì§€ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©

### ğŸ“– ìŠ¤í† ë¦¬ ë¼ì¸

1. ì¡°í•©ìœ¼ë¡œ 25ëª… ì¤‘ 7ëª…ì„ ì„ ì •í•œë‹¤.
2. bfsë¥¼ í†µí•´ ì„ íƒëœ 7ëª…ì´ ì¸ì ‘í•˜ê²Œ ì•‰ì•„ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.

### âš ï¸ ì£¼ì˜ ì‚¬í•­

- bfsë¡œ ì´ˆê¸° ê°’ì„ ë„£ì„ ë•Œì— í•œ ë²ˆ, ë‹¤ìŒ ê°’ì„ ê²€ì‚¬í•  ë•Œ í•œ ë²ˆì”© qì— ë°ì´í„°ë¥¼ ë„£ìœ¼ë‹ˆ ì¤‘ë³µëœ ì½”ë“œê°€ ë§ì•˜ë‹¤.
  qì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚¼ ë•Œ ê²€ì‚¬ë¥¼ í•œ ë²ˆë§Œ í•˜ë„ë¡ ê°œì„ í•˜ì˜€ë‹¤.
- ì£¼ë³€ì„ ë¨¼ì € íƒìƒ‰í•œ í›„ 7ê³µì£¼ê°€ ìˆëŠ” ì§€ ì‚´í´ë³´ì•˜ëŠ”ë° ê³µê°„ ë³µì¡ë„ê°€ ë†’ì•˜ë‹¤.
  7ê³µì£¼ë¥¼ ìš°ì„ ë³´ê³  í•´ë‹¹ ê³µì£¼ê°€ ì¸ì ‘í•œì§€ í™•ì¸í•˜ì˜€ë‹¤.

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ1

```java
import java.io.*;
import java.util.LinkedList;
import java.util.Queue;

public class Main {

    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static StringBuilder sb = new StringBuilder();

    static char[][] board = new char[5][5];
    static int princess = 0;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main(String[] args) throws Exception {

        input();
        combination(0, new int[7], -1);
        sb.append(princess).append("\n");

        bw.write(sb.toString());
        bw.flush();
        bw.close();
        br.close();
    }

    // ì„¸ë ¥ì„ ì…ë ¥ ë°›ìŒ
    private static void input() throws IOException {
        for (int i = 0; i < 5; ++i) {
            board[i] = br.readLine().toCharArray();
        }
    }

    // 0 ~ 24 ì¤‘ 7ê°œë¥¼ ì„ ì •
    // cnt: í˜„ì¬ê¹Œì§€ ì„ ì •í•œ ìˆ˜ì˜ ê°œìˆ˜
    // selected: ì„ ì •ëœ ìˆ«ìì˜ ëª¨ìŒ
    // last: ê°€ì¥ ë§ˆì§€ë§‰ì— ì„ íƒí•œ ìˆ«ì
    private static void combination(int cnt, int[] selected, int last) {
        if (cnt == 7) {
            if(arePrincess(selected)) {
                princess += 1;
            }
            return;
        }

        for (int i = last + 1; i < 25; ++i) {
            selected[cnt] = i;
            combination(cnt + 1, selected, i);
        }
    }

    // bfs
    // ì„ ì •ëœ 7ê°œ ìˆ«ìê°€ ë¶™ì–´ìˆìœ¼ë©° ì´ë‹¤ì†œ íŒŒê°€ 4ëª… ì´ìƒì¸ì§€ í™•ì¸
    private static boolean arePrincess(int[] selected) {
        boolean[][] princessLoc = new boolean[5][5];
        boolean[][] visited = new boolean[5][5];
        int princessCnt = 0; // í™•ì¸í•œ ê³µì£¼ì˜ ìˆ˜
        int SCnt = 0; // 7ê³µì£¼ì— í¬í•¨ëœ SíŒŒì˜ ìˆ˜

        // ì„ ì •ëœ 7ëª…ì˜ ìë¦¬ í‘œì‹œ
        for (int i = 0; i < 7; ++i) {
            int[] location = getLocation(selected[i]);
            princessLoc[location[0]][location[1]] = true;
        }

        // ì²«ë²ˆì§¸ ì‚¬ëŒì„ ê¸°ì¤€ìœ¼ë¡œ bfs íƒìƒ‰
        Queue<int[]> q = new LinkedList<>();
        int[] first = getLocation(selected[0]);
        q.offer(first);
        visited[first[0]][first[1]] = true;
        princessCnt += 1;
        if (board[first[0]][first[1]] == 'S') {
            SCnt += 1;
        }

        while (!q.isEmpty()) {
            int cx = q.peek()[0];
            int cy = q.peek()[1];
            q.poll();

            for (int dir = 0; dir < 4; ++dir) {
                int nx = cx + dx[dir];
                int ny = cy + dy[dir];

                if (nx < 0 || nx >= 5 || ny < 0 || ny >= 5) continue; // ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê²½ìš°
                if (visited[nx][ny]) continue; // ì´ë¯¸ ë°©ë¬¸í•œ ê²½ìš°
                if (!princessLoc[nx][ny]) continue; // í•´ë‹¹ ìœ„ì¹˜ê°€ ê³µì£¼ ìë¦¬ê°€ ì•„ë‹ˆë©´ ê±´ë„ˆë”

                q.offer(new int[] {nx, ny});
                visited[nx][ny] = true;
                princessCnt += 1;
                if(board[nx][ny] == 'S') {
                    SCnt += 1;
                }
            }
        }
        if (princessCnt == 7 && SCnt > 3) {
            return true;
        }
        return false;
    }

    // í•´ë‹¹ ìœ„ì¹˜ì˜ x, y ì¢Œí‘œë¥¼ êµ¬í•œë‹¤.
    private static int[] getLocation(int location) {
        int x = location / 5;
        int y = location % 5;
        return new int[] {x, y};
    }

}

```

### ğŸ’» ë¬¸ì œë¥¼ í•´ê²°í•œ ì½”ë“œ2

```java
import java.io.*;
import java.util.LinkedList;
import java.util.Queue;

public class Main {

    static BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    static BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));
    static StringBuilder sb = new StringBuilder();

    static char[][] board = new char[5][5];
    static int princess = 0;

    static int[] dx = {-1, 1, 0, 0};
    static int[] dy = {0, 0, -1, 1};

    public static void main(String[] args) throws Exception {

        input();
        combination(0, new int[7], -1);
        sb.append(princess).append("\n");

        bw.write(sb.toString());
        bw.flush();
        bw.close();
        br.close();
    }

    // ì„¸ë ¥ì„ ì…ë ¥ ë°›ìŒ
    private static void input() throws IOException {
        for (int i = 0; i < 5; ++i) {
            board[i] = br.readLine().toCharArray();
        }
    }

    // 0 ~ 24 ì¤‘ 7ê°œë¥¼ ì„ ì •
    // cnt: í˜„ì¬ê¹Œì§€ ì„ ì •í•œ ìˆ˜ì˜ ê°œìˆ˜
    // selected: ì„ ì •ëœ ìˆ«ìì˜ ëª¨ìŒ
    // last: ê°€ì¥ ë§ˆì§€ë§‰ì— ì„ íƒí•œ ìˆ«ì
    private static void combination(int cnt, int[] selected, int last) {
        if (cnt == 7) {
            if(arePrincess(selected)) {
                princess += 1;
            }
            return;
        }

        for (int i = last + 1; i < 25; ++i) {
            selected[cnt] = i;
            combination(cnt + 1, selected, i);
        }
    }

    // bfs
    // ì„ ì •ëœ 7ê°œ ìˆ«ìê°€ ë¶™ì–´ìˆìœ¼ë©° ì´ë‹¤ì†œ íŒŒê°€ 4ëª… ì´ìƒì¸ì§€ í™•ì¸
    private static boolean arePrincess(int[] selected) {
        boolean[][] princessLoc = new boolean[5][5];
        boolean[][] visited = new boolean[5][5];
        int princessCnt = 0; // í™•ì¸í•œ ê³µì£¼ì˜ ìˆ˜
        int SCnt = 0; // 7ê³µì£¼ì— í¬í•¨ëœ SíŒŒì˜ ìˆ˜

        // ì„ ì •ëœ 7ëª…ì˜ ìë¦¬ í‘œì‹œ
        for (int i = 0; i < 7; ++i) {
            int[] location = getLocation(selected[i]);
            princessLoc[location[0]][location[1]] = true;
        }

        // ì²«ë²ˆì§¸ ì‚¬ëŒì„ ê¸°ì¤€ìœ¼ë¡œ bfs íƒìƒ‰
        Queue<int[]> q = new LinkedList<>();
        int[] first = getLocation(selected[0]);
        q.offer(first);
        visited[first[0]][first[1]] = true;
        princessCnt += 1;
        if (board[first[0]][first[1]] == 'S') {
            SCnt += 1;
        }

        while (!q.isEmpty()) {
            int cx = q.peek()[0];
            int cy = q.peek()[1];
            q.poll();

            for (int dir = 0; dir < 4; ++dir) {
                int nx = cx + dx[dir];
                int ny = cy + dy[dir];

                if (nx < 0 || nx >= 5 || ny < 0 || ny >= 5) continue; // ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ê²½ìš°
                if (visited[nx][ny]) continue; // ì´ë¯¸ ë°©ë¬¸í•œ ê²½ìš°
                if (!princessLoc[nx][ny]) continue; // í•´ë‹¹ ìœ„ì¹˜ê°€ ê³µì£¼ ìë¦¬ê°€ ì•„ë‹ˆë©´ ê±´ë„ˆë”

                q.offer(new int[] {nx, ny});
                visited[nx][ny] = true;
                princessCnt += 1;
                if(board[nx][ny] == 'S') {
                    SCnt += 1;
                }
            }
        }
        if (princessCnt == 7 && SCnt > 3) {
            return true;
        }
        return false;
    }

    // í•´ë‹¹ ìœ„ì¹˜ì˜ x, y ì¢Œí‘œë¥¼ êµ¬í•œë‹¤.
    private static int[] getLocation(int location) {
        int x = location / 5;
        int y = location % 5;
        return new int[] {x, y};
    }

}
```
